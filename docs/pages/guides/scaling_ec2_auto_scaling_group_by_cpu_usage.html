<head>
    <title>Tim Harrison</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
        integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.0/css/all.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
    <link rel='stylesheet' href='/static/styles.css' />
</head>

<div id="header_block">
    <p class="deploy_message">This site has been deployed from Github repository <a
            href="https://github.com/tjtharrison/README.md" target="_blank">tjtharrison/README.md</a></p>
    <div id="header_wrapper">


        <p><img class="me" src="/img/timh.png" /></p>

        <h2>Tim Harrison</h2>
        <h3>Infrastructure Security Team Lead</h3>

        <ul class="navigation">
            <li><a href="/">Home</a></li>
            <li><a href="/pages/runbooks/">Runbooks</a></li>
            <li><a href="/pages/guides">Guides</a></li>
            <li><a target="_blank"
                    href="https://www.credly.com/badges/f3630def-a568-424b-a8eb-e8857e296e24/public_url">Credly <i
                        class="fa-solid fa-arrow-up-right-from-square"></i></a></li>
            <li><a target="_blank" href="https://github.com/tjtharrison">Github <i
                        class="fa-solid fa-arrow-up-right-from-square"></i></a></li>
            <li><a target="_blank" href="https://www.linkedin.com/in/tim-harrison-47b11159/"> LinkedIn <i
                        class="fa-solid fa-arrow-up-right-from-square"></i></a></li>
        </ul>


    </div>
</div>

<div id="body">
    </div></div><h1>Scaling EC2 Auto Scaling Group by CPU Usage</h1>
<p>Follow these instructions to setup Auto Scaling based on CPU Usage average across the EC2 Instances in the Auto Scaling Group over a defined period of time (By default this is 5 minutes).</p>
<ul>
<li>Open up the AWS Console and browse to EC2 &gt; Auto Scaling Groups (On the left hand side)</li>
<li>Select the Auto Scaling Group that You wish to apply the scaling to and select “Scaling Policies“ from the menu at the bottom.</li>
<li>Create two new Policies as follows:</li>
<li>Click the Link to create a Scaling Policy with Steps</li>
<li>Name: Scale Down CPU<ul>
<li>Execute policy when: (Create new alarm)<ul>
<li>Send Notification to: your@domain.com</li>
<li>When average of “CPU Utilization” is &lt;= 70% for 1 period of 5 minutes.</li>
<li>Name of Alarm: awsec2-[Autoscaling Group]-Low-CPU-Utilization</li>
</ul>
</li>
<li>Take the Action: Remove 1 capacity units when 70% &gt;= CPUUtilization</li>
</ul>
</li>
<li>Name: Scale Up CPU<ul>
<li>Execute policy when: (Create new alarm)<ul>
<li>Send Notification to: your@domain.com</li>
<li>When average of “CPU Utilization” is &gt;= 70% for 1 period of 5 minutes.</li>
<li>Name of Alarm: awsec2-[Autoscaling Group]-High-CPU-Utilization</li>
</ul>
</li>
<li>Take the Action: Add 1 capacity units when 70% &lt;= CPUUtilization</li>
<li>Instances need: 720 seconds to warm up</li>
</ul>
</li>
</ul>
</div>